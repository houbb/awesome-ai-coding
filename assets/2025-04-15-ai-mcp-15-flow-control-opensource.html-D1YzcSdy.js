import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a,o as n}from"./app-DYfk_09i.js";const e={};function r(l,s){return n(),i("div",null,[...s[0]||(s[0]=[a(`<h1 id="chat" tabindex="-1"><a class="header-anchor" href="#chat"><span>chat</span></a></h1><h2 id="dify-中的工作流-dsl-画布感觉很好用-这一块有开源可以复用的组件吗" tabindex="-1"><a class="header-anchor" href="#dify-中的工作流-dsl-画布感觉很好用-这一块有开源可以复用的组件吗"><span>dify 中的工作流 DSL + 画布感觉很好用，这一块有开源可以复用的组件吗？</span></a></h2><p>确实，Dify 中的工作流功能（Workflow DSL + 可视化画布）结合了底层强大的表达能力和上层易用的交互界面，适用于 AI 流程编排、任务自动化、Agent 路由等场景，非常实用。</p><p>关于这块是否有开源可复用的组件，分成两个层面来看：</p><h1 id="topic" tabindex="-1"><a class="header-anchor" href="#topic"><span>TOPIC</span></a></h1><p><a href="https://github.com/didi/LogicFlow" target="_blank" rel="noopener noreferrer">https://github.com/didi/LogicFlow</a></p><hr><h3 id="✅-1-画布可视化部分-前端-ui-组件" tabindex="-1"><a class="header-anchor" href="#✅-1-画布可视化部分-前端-ui-组件"><span>✅ 1. <strong>画布可视化部分（前端 UI 组件）</strong></span></a></h3><p>这是工作流体验的关键。你可以考虑以下开源项目来实现类似的可视化工作流编排能力：</p><h4 id="🔹-react-flow" tabindex="-1"><a class="header-anchor" href="#🔹-react-flow"><span>🔹 <a href="https://reactflow.dev/" target="_blank" rel="noopener noreferrer"><strong>React Flow</strong></a></span></a></h4><ul><li>⭐ Star 数：~20k+</li><li>技术栈：React + TypeScript</li><li>特点：支持节点连线、拖拽、缩放、嵌套、节点配置、MiniMap 等</li><li>应用案例：n8n、Dify、Langflow 等都有使用或借鉴它</li><li>优势：社区成熟、文档清晰、易拓展</li><li>常与 Zustand 或 Redux 搭配使用状态管理</li></ul><h4 id="🔹-jointjs-rappid" tabindex="-1"><a class="header-anchor" href="#🔹-jointjs-rappid"><span>🔹 <a href="https://www.jointjs.com/" target="_blank" rel="noopener noreferrer"><strong>JointJS / Rappid</strong></a></span></a></h4><ul><li>⭐ 更重一点的方案，适合工业级应用</li><li>免费版 JointJS 功能还可以，但商业版 Rappid 才是真正强大</li></ul><h4 id="🔹-diagram-by-tldraw-作者" tabindex="-1"><a class="header-anchor" href="#🔹-diagram-by-tldraw-作者"><span>🔹 <a href="https://github.com/tldraw/tldraw" target="_blank" rel="noopener noreferrer"><strong>Diagram</strong> (by Tldraw 作者)</a></span></a></h4><ul><li>更偏“自由画布”，可用作辅助 UX 改造</li></ul><h4 id="🔹-flowise" tabindex="-1"><a class="header-anchor" href="#🔹-flowise"><span>🔹 <a href="https://github.com/FlowiseAI/Flowise" target="_blank" rel="noopener noreferrer"><strong>Flowise</strong></a></span></a></h4><ul><li>虽然是完整的 LLM 流程引擎，但你可以 fork 它的前端画布（基于 React Flow + 自定义节点系统）</li></ul><hr><h3 id="✅-2-dsl-编排执行引擎-后端逻辑" tabindex="-1"><a class="header-anchor" href="#✅-2-dsl-编排执行引擎-后端逻辑"><span>✅ 2. <strong>DSL 编排执行引擎（后端逻辑）</strong></span></a></h3><p>Dify 中的 DSL 本质上是一种声明式的 JSON/Graph 配置，类似于：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;nodes&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;input&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;input&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">},</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;llm&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;llm&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;prompt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Summarize: {{input.text}}&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ],</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;edges&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;source&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;input&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;target&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;llm&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要实现类似功能，你可以参考：</p><h4 id="🔸-langgraph" tabindex="-1"><a class="header-anchor" href="#🔸-langgraph"><span>🔸 <a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noopener noreferrer"><strong>LangGraph</strong></a></span></a></h4><ul><li>来自 LangChain 官方的有向图 DSL + 状态执行框架</li><li>支持循环、条件分支、消息传递等复杂控制流</li><li>构建 AI Agent 网络非常方便</li><li>适合做复杂 Agent Workflows 的后端执行引擎</li></ul><h4 id="🔸-flowise-backend" tabindex="-1"><a class="header-anchor" href="#🔸-flowise-backend"><span>🔸 <a href="https://github.com/FlowiseAI/Flowise/tree/main/packages/server" target="_blank" rel="noopener noreferrer"><strong>Flowise Backend</strong></a></span></a></h4><ul><li>完整的 Node.js + TypeScript 后端流程执行引擎</li><li>每个节点是一个模块，支持 LLM、Tools、Code、Function 等</li></ul><h4 id="🔸-dify-server-源码" tabindex="-1"><a class="header-anchor" href="#🔸-dify-server-源码"><span>🔸 <a href="https://github.com/langgenius/dify" target="_blank" rel="noopener noreferrer"><strong>Dify Server 源码</strong></a></span></a></h4><ul><li>虽然没有把 DSL 抽象出来为一个独立模块，但你可以分析 <code>workflows/</code> 目录下的逻辑抽象方式</li></ul><hr><h3 id="✅-3-完整类似-dify-的开源替代品-可参考-借鉴" tabindex="-1"><a class="header-anchor" href="#✅-3-完整类似-dify-的开源替代品-可参考-借鉴"><span>✅ 3. <strong>完整类似 Dify 的开源替代品（可参考/借鉴）</strong></span></a></h3><table><thead><tr><th>名称</th><th>前端画布</th><th>DSL 执行</th><th>说明</th></tr></thead><tbody><tr><td><strong>Dify</strong></td><td>✅（React Flow）</td><td>✅（Python 执行逻辑）</td><td>功能全面，建议直接读源码</td></tr><tr><td><strong>Flowise</strong></td><td>✅（React Flow）</td><td>✅（Node.js DSL 执行）</td><td>更开放，适合快速二次开发</td></tr><tr><td><strong>Langflow</strong></td><td>✅（Streamlit + 网络图）</td><td>✅（LangChain）</td><td>不够灵活，不适合大项目</td></tr><tr><td><strong>Superagent</strong></td><td>❌</td><td>✅</td><td>更偏 Agent 管理</td></tr><tr><td><strong>CrewAI (计划支持画布)</strong></td><td>❌</td><td>✅</td><td>Agent 编排核心</td></tr></tbody></table><hr><h3 id="✅-总结-你可以这样组合构建你自己的-dify-式工作流系统" tabindex="-1"><a class="header-anchor" href="#✅-总结-你可以这样组合构建你自己的-dify-式工作流系统"><span>✅ 总结：你可以这样组合构建你自己的 Dify 式工作流系统</span></a></h3><table><thead><tr><th>目标</th><th>推荐方案</th></tr></thead><tbody><tr><td>前端可视化画布</td><td>React Flow（+ Tailwind + Zustand）</td></tr><tr><td>节点定义系统</td><td>自定义 React 节点组件</td></tr><tr><td>DSL 结构设计</td><td>借鉴 Dify / LangGraph 的节点-边 JSON 表达法</td></tr><tr><td>后端执行框架</td><td>Python（FastAPI）或 Node（Flowise server 模型）</td></tr><tr><td>节点执行逻辑</td><td>plugin 机制，支持 LLM、工具调用、自定义函数</td></tr></tbody></table><hr><p>如果你具体想知道：<strong>怎么把 React Flow 用在你的 Vue 项目中，或想定制某种 DSL 结构设计规范</strong>，我也可以帮你细化方案。你是想复用部分功能，还是打造类似平台？</p><h2 id="不一定需要是-llm-我主要想要的是流程控制-节点关系-属性之类的。希望可以在作业平台、测试平台之类、规则引擎的复用这个可视化配置能力" tabindex="-1"><a class="header-anchor" href="#不一定需要是-llm-我主要想要的是流程控制-节点关系-属性之类的。希望可以在作业平台、测试平台之类、规则引擎的复用这个可视化配置能力"><span>不一定需要是 LLM 我主要想要的是流程控制+节点关系+属性之类的。希望可以在作业平台、测试平台之类、规则引擎的复用这个可视化配置能力</span></a></h2><p>明白了 ✅</p><p>你并不是只关注 LLM/Agent，而是想要一种通用的 <strong>流程控制 + 节点连接 + 属性配置 + 可视化画布</strong> 的能力 —— 类似于：</p><ul><li>低代码平台的流程编排器</li><li>作业调度平台（如 Airflow）中的 DAG 可视化</li><li>自动化测试流程定义器</li><li>规则引擎（if/else 分支 + 动作）的配置界面</li><li>可扩展组件 + 属性面板 + 连线机制</li></ul><p>这样的功能，在 <strong>多个系统中都可复用</strong> —— 这是一个非常实际且通用的诉求 👍</p><hr><h2 id="✅-推荐开源方案-可复用组件" tabindex="-1"><a class="header-anchor" href="#✅-推荐开源方案-可复用组件"><span>✅ 推荐开源方案（可复用组件）</span></a></h2><h3 id="_1-react-flow-首选" tabindex="-1"><a class="header-anchor" href="#_1-react-flow-首选"><span>1. <strong>React Flow</strong>（首选）</span></a></h3><ul><li><a href="https://reactflow.dev" target="_blank" rel="noopener noreferrer">https://reactflow.dev</a></li><li>⭐ 最流行、通用性最强的节点式可视化库</li><li>可视化连接节点 + 属性面板（你自定义即可）+ 拖拽/缩放/保存 JSON 状态</li><li>很多开源平台（n8n、Flowise、Dify、Langflow）都用它</li></ul><p>👉 用它可以实现你要的“通用流程引擎 UI + 节点配置系统”</p><h4 id="功能支持" tabindex="-1"><a class="header-anchor" href="#功能支持"><span>功能支持：</span></a></h4><ul><li>✅ 节点连接（DAG 或有环流程）</li><li>✅ 节点属性配置（你定义属性表单）</li><li>✅ 连线控制（控制连接合法性）</li><li>✅ 保存为 DSL / JSON</li><li>✅ 画布拖拽缩放 + minimap</li><li>✅ 自定义节点渲染（展示图标、状态、进度等）</li></ul><h4 id="你可以构建的结构" tabindex="-1"><a class="header-anchor" href="#你可以构建的结构"><span>你可以构建的结构：</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;nodes&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;start&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;data&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;label&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Start&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;env&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;dev&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;position&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;x&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;y&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;sql-task&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;data&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;query&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;SELECT * FROM user&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;position&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;x&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">300</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;y&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ],</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;edges&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;source&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;target&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;smoothstep&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2-vue-flow-如果你是-vue-项目" tabindex="-1"><a class="header-anchor" href="#_2-vue-flow-如果你是-vue-项目"><span>2. <strong>Vue Flow</strong>（如果你是 Vue 项目）</span></a></h3><ul><li><a href="https://vueflow.dev/" target="_blank" rel="noopener noreferrer">https://vueflow.dev/</a></li><li>⭐ Vue 生态下对标 React Flow 的项目</li><li>同样支持自定义节点、拖拽、属性、缩放、连接等</li><li>文档也不错，易上手</li></ul><hr><h3 id="_3-drawflow-vue-可选方案" tabindex="-1"><a class="header-anchor" href="#_3-drawflow-vue-可选方案"><span>3. <strong>Drawflow</strong>（Vue 可选方案）</span></a></h3><ul><li>GitHub: <a href="https://github.com/jerosoler/Drawflow" target="_blank" rel="noopener noreferrer">https://github.com/jerosoler/Drawflow</a></li><li>更轻量，支持拖动连线，自定义组件等</li><li>缺点是维护较弱、API 老旧</li></ul><hr><h3 id="_4-node-red-如果想要配合后端逻辑" tabindex="-1"><a class="header-anchor" href="#_4-node-red-如果想要配合后端逻辑"><span>4. <strong>Node-RED</strong>（如果想要配合后端逻辑）</span></a></h3><ul><li><a href="https://nodered.org/" target="_blank" rel="noopener noreferrer">https://nodered.org/</a></li><li>虽然是面向 IoT/流程的完整平台，但它的画布、属性面板、节点连接系统都可以参考</li><li>后端用 JSON 执行 flow，本地或远程部署</li><li>缺点是使用门槛偏高，不容易与现代前端（Vue/React）集成</li></ul><hr><h2 id="✅-实现建议-如何组件化-复用" tabindex="-1"><a class="header-anchor" href="#✅-实现建议-如何组件化-复用"><span>✅ 实现建议（如何组件化 &amp; 复用）</span></a></h2><p>你可以封装一个“流程配置组件”，通用于多个场景：</p><table><thead><tr><th>模块</th><th>功能</th><th>说明</th></tr></thead><tbody><tr><td>🌐 FlowCanvas.vue / FlowCanvas.tsx</td><td>主画布组件</td><td>使用 React Flow 或 Vue Flow，封装为组件</td></tr><tr><td>🔌 节点组件库</td><td>可注册的节点类型</td><td>每种类型：执行 SQL、发送 API、判断条件、触发通知等</td></tr><tr><td>⚙️ 属性面板</td><td>显示选中节点的属性表单</td><td>根据类型动态渲染不同表单（用 form-engine / 自定义组件）</td></tr><tr><td>🧠 状态管理</td><td>用于保存 node/edge 的 JSON</td><td>可以导出为 DSL/JSON，后端可解析</td></tr><tr><td>🔁 后端执行器（可选）</td><td>将 JSON 转为执行流程</td><td>比如测试平台执行流程、规则引擎触发动作等</td></tr></tbody></table><hr><h2 id="✅-典型应用案例场景" tabindex="-1"><a class="header-anchor" href="#✅-典型应用案例场景"><span>✅ 典型应用案例场景</span></a></h2><table><thead><tr><th>你平台的场景</th><th>画布用法</th></tr></thead><tbody><tr><td>🧪 自动化测试平台</td><td>编排测试步骤（调用接口、执行SQL、检查状态等）</td></tr><tr><td>🧰 运维作业平台</td><td>类似 Airflow 的 DAG 画布，表示任务执行流程</td></tr><tr><td>⚖️ 规则引擎</td><td>条件判断 + 动作配置（if-else 路由节点）</td></tr><tr><td>🤖 自动化工具流</td><td>多个操作串联，如“监听 Kafka → 判断数据 → 写库”</td></tr><tr><td>📜 业务流程配置</td><td>可视化定义审批流、调度策略等</td></tr></tbody></table><hr><h2 id="✅-总结" tabindex="-1"><a class="header-anchor" href="#✅-总结"><span>✅ 总结</span></a></h2><table><thead><tr><th>需求</th><th>推荐方案</th></tr></thead><tbody><tr><td>通用流程图 UI</td><td>✅ React Flow / Vue Flow</td></tr><tr><td>节点属性配置</td><td>✅ 使用表单组件绑定 <code>node.data</code></td></tr><tr><td>多平台复用</td><td>✅ 封装为组件 / npm 包</td></tr><tr><td>后端执行</td><td>✅ 定义统一 JSON DSL + 解释执行器</td></tr><tr><td>类似参考</td><td>Flowise、Dify、NodeRED、n8n、Airflow UI</td></tr></tbody></table><hr><p>需要的话我可以直接帮你设计：</p><ul><li>节点配置 JSON 格式（DSL）</li><li>节点类型注册机制</li><li>属性面板动态渲染方案</li><li>Vue 或 React 的组件封装结构</li></ul><p>你现在前端是 Vue 还是 React？目标平台更偏测试还是运维方向？我可以更具体地给你一份复用方案。</p><h2 id="技术对比" tabindex="-1"><a class="header-anchor" href="#技术对比"><span>技术对比</span></a></h2><p>以下是对文章**《前端流程图插件对比选型，这一篇就够了》**的 Markdown 格式总结：</p><hr><h2 id="前端流程图插件对比选型-总结" tabindex="-1"><a class="header-anchor" href="#前端流程图插件对比选型-总结"><span>前端流程图插件对比选型（总结）</span></a></h2><p><strong>来源：</strong> 稀土掘金 作者：WayneX，通过 CSDN 转载 (<a href="https://blog.csdn.net/xgangzai/article/details/133592957?utm_source=chatgpt.com" title="前端流程图插件对比选型，这一篇就够了-CSDN博客" target="_blank" rel="noopener noreferrer">CSDN博客</a>, <a href="https://juejin.cn/post/7251835247595110457?utm_source=chatgpt.com" title="前端流程图插件对比选型前端领域有多种流程库可供选择 ..." target="_blank" rel="noopener noreferrer">掘金</a>)</p><h3 id="支持的流程图库-共-6-款" tabindex="-1"><a class="header-anchor" href="#支持的流程图库-共-6-款"><span>支持的流程图库（共 6 款）</span></a></h3><ul><li><strong>vue‑flow</strong>（Vue 版本的 ReactFlow）</li><li><strong>butterfly</strong>（阿里巴巴开源图编辑引擎）</li><li><strong>JointJS</strong>（闭源收费，功能全面）</li><li><strong>AntV G6</strong>（AntV 图可视化引擎）</li><li><strong>jsPlumb</strong>（专注拖拽连接线）</li><li><strong>Flowchart.js</strong>（轻量语法流程图）</li></ul><hr><h2 id="logic-flow" tabindex="-1"><a class="header-anchor" href="#logic-flow"><span>LOGIC-FLOW</span></a></h2><p>A flow chart editing framework focus on business customization. 专注于业务自定义的流程图编辑框架，支持实现脑图、ER图、UML、工作流等各种图编辑场景。</p><p><a href="https://github.com/didi/LogicFlow" target="_blank" rel="noopener noreferrer">https://github.com/didi/LogicFlow</a></p><h3 id="各库简介与优缺点" tabindex="-1"><a class="header-anchor" href="#各库简介与优缺点"><span>各库简介与优缺点</span></a></h3><h4 id="vue‐flow" tabindex="-1"><a class="header-anchor" href="#vue‐flow"><span>vue‑flow</span></a></h4><ul><li><strong>优点</strong>：轻松上手（缩放、平移、拖拽、选择等）；高度可定制；性能优异（链路变更仅重渲染必要部分）；提供背景、小地图、控件等组件；组件化设计便于组合。</li><li><strong>缺点</strong>：更新频次低（截至 2022 年进入首次迭代）；在国内社区较少，资料不多 (<a href="https://blog.csdn.net/xgangzai/article/details/133592957?utm_source=chatgpt.com" title="前端流程图插件对比选型，这一篇就够了-CSDN博客" target="_blank" rel="noopener noreferrer">CSDN博客</a>)</li></ul><h4 id="butterfly" tabindex="-1"><a class="header-anchor" href="#butterfly"><span>butterfly</span></a></h4><ul><li><strong>优点</strong>：基于 DOM、易上手；提供高度定制化功能，如自定义节点、锚点；适配多个技术栈（jQuery、butterfly‑react、butterfly‑vue）。</li><li><strong>缺点</strong>：对 Vue 的支持不理想，官方更偏向 React，Vue 版本仅支持 Vue2 并且在 Vue3 上使用需额外封装 (<a href="https://blog.csdn.net/xgangzai/article/details/133592957?utm_source=chatgpt.com" title="前端流程图插件对比选型，这一篇就够了-CSDN博客" target="_blank" rel="noopener noreferrer">CSDN博客</a>)</li></ul><h4 id="jointjs" tabindex="-1"><a class="header-anchor" href="#jointjs"><span>JointJS</span></a></h4><ul><li><strong>特点</strong>：适合创建静态或全交互式图表，如流程编排、演示工具等。</li><li><strong>缺点</strong>：闭源并且收费，通常不作为首选 (<a href="https://blog.csdn.net/xgangzai/article/details/133592957?utm_source=chatgpt.com" title="前端流程图插件对比选型，这一篇就够了-CSDN博客" target="_blank" rel="noopener noreferrer">CSDN博客</a>)</li></ul><h4 id="antv-g6" tabindex="-1"><a class="header-anchor" href="#antv-g6"><span>AntV G6</span></a></h4><ul><li><strong>优点</strong>：属于 AntV 大平台，社区成熟；支持丰富图表类型（关系图、流程图、树图等）；高性能、功能全面且可定制。</li><li><strong>缺点</strong>：学习曲线陡峭，文档尚有提升空间 (<a href="https://blog.csdn.net/xgangzai/article/details/133592957?utm_source=chatgpt.com" title="前端流程图插件对比选型，这一篇就够了-CSDN博客" target="_blank" rel="noopener noreferrer">CSDN博客</a>)</li></ul><h4 id="jsplumb" tabindex="-1"><a class="header-anchor" href="#jsplumb"><span>jsPlumb</span></a></h4><ul><li><strong>优点</strong>：API 简洁易用，文档丰富；连接线功能强大（支持直线、曲线、箭头等），可适用于多种场景。</li><li><strong>缺点</strong>：文档更新不够及时；在处理大量节点和连接时性能可能成为瓶颈 (<a href="https://blog.csdn.net/xgangzai/article/details/133592957?utm_source=chatgpt.com" title="前端流程图插件对比选型，这一篇就够了-CSDN博客" target="_blank" rel="noopener noreferrer">CSDN博客</a>)</li></ul><h4 id="flowchart-js" tabindex="-1"><a class="header-anchor" href="#flowchart-js"><span>Flowchart.js</span></a></h4><ul><li><strong>优点</strong>：使用简单快捷，几行语法即可绘制流程图；易于跨平台集成（如 markdown 编辑器）。</li><li><strong>缺点</strong>：定制能力有限；语法需学习；社区活跃度相对较低 (<a href="https://blog.csdn.net/xgangzai/article/details/133592957?utm_source=chatgpt.com" title="前端流程图插件对比选型，这一篇就够了-CSDN博客" target="_blank" rel="noopener noreferrer">CSDN博客</a>)</li></ul><hr><h3 id="总体对比分析" tabindex="-1"><a class="header-anchor" href="#总体对比分析"><span>总体对比分析</span></a></h3><table><thead><tr><th>维度</th><th>推荐对象／优势库</th></tr></thead><tbody><tr><td>功能与灵活性</td><td><strong>Butterfly</strong>、<strong>G6</strong>、<strong>JointJS</strong> 功能最为全面灵活，支持拖拽、缩放、动画等交互特性。</td></tr><tr><td>Vue 生态集成</td><td><strong>vue‑flow</strong> 与 Vue 整合紧密，开发体验佳。</td></tr><tr><td>轻量实现</td><td><strong>jsPlumb</strong> 专注连接交互；<strong>Flowchart.js</strong> 适合简单快速流程图绘制。</td></tr><tr><td>生态与社区支持</td><td><strong>AntV G6</strong> 背靠大厂生态，社区与文档优势明显。</td></tr><tr><td>学习成本</td><td><strong>G6</strong> 学习曲线较陡；<strong>Flowchart.js</strong> 简洁适用于快速上手。</td></tr></tbody></table><hr><h3 id="建议选择指南" tabindex="-1"><a class="header-anchor" href="#建议选择指南"><span>建议选择指南</span></a></h3><ul><li><strong>追求高度定制和强大功能</strong> → 选择 <strong>AntV G6</strong> 或 <strong>Butterfly</strong>。</li><li><strong>使用 Vue 技术栈</strong> → 推荐 <strong>vue‑flow</strong>。</li><li><strong>重交互连接，结构简单</strong> → 可考虑 <strong>jsPlumb</strong>。</li><li><strong>快速绘制简单流程图，无需复杂互动</strong> → <strong>Flowchart.js</strong> 是首选。</li><li><strong>需要商业级复杂流程编辑</strong> → 可考虑 <strong>JointJS</strong>，但需考虑授权和成本因素。</li></ul><hr><p>以上为文章核心内容 Markdown 提炼，希望对你选型决策有帮助！如果你有具体使用场景（如 Vue 项目或需要支持动画/实时协作），欢迎告诉我，我可以进一步推荐合适的库或写一些简单代码示例。</p><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1>`,106)])])}const d=t(e,[["render",r]]),p=JSON.parse('{"path":"/posts/mcp/2025-04-15-ai-mcp-15-flow-control-opensource.html","title":"AI MCP(大模型上下文)-15-流程控制中最重要的可视化 DSL 开源工具","lang":"zh-CN","frontmatter":{"title":"AI MCP(大模型上下文)-15-流程控制中最重要的可视化 DSL 开源工具","categories":["AI"],"tags":["ai","mcp","sh"],"published":true,"description":"chat dify 中的工作流 DSL + 画布感觉很好用，这一块有开源可以复用的组件吗？ 确实，Dify 中的工作流功能（Workflow DSL + 可视化画布）结合了底层强大的表达能力和上层易用的交互界面，适用于 AI 流程编排、任务自动化、Agent 路由等场景，非常实用。 关于这块是否有开源可复用的组件，分成两个层面来看： TOPIC htt...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"AI MCP(大模型上下文)-15-流程控制中最重要的可视化 DSL 开源工具\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-27T05:15:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"],["meta",{"property":"og:url","content":"https://houbb.github.io/blog-thinking/posts/mcp/2025-04-15-ai-mcp-15-flow-control-opensource.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"AI MCP(大模型上下文)-15-流程控制中最重要的可视化 DSL 开源工具"}],["meta",{"property":"og:description","content":"chat dify 中的工作流 DSL + 画布感觉很好用，这一块有开源可以复用的组件吗？ 确实，Dify 中的工作流功能（Workflow DSL + 可视化画布）结合了底层强大的表达能力和上层易用的交互界面，适用于 AI 流程编排、任务自动化、Agent 路由等场景，非常实用。 关于这块是否有开源可复用的组件，分成两个层面来看： TOPIC htt..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-27T05:15:15.000Z"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:tag","content":"mcp"}],["meta",{"property":"article:tag","content":"ai"}],["meta",{"property":"article:modified_time","content":"2025-12-27T05:15:15.000Z"}]]},"git":{"createdTime":1766806441000,"updatedTime":1766812515000,"contributors":[{"name":"bbhou","username":"bbhou","email":"1557740299@qq.com","commits":4,"url":"https://github.com/bbhou"}]},"readingTime":{"minutes":9.42,"words":2827},"filePathRelative":"posts/mcp/2025-04-15-ai-mcp-15-flow-control-opensource.md","excerpt":"\\n<h2>dify 中的工作流 DSL + 画布感觉很好用，这一块有开源可以复用的组件吗？</h2>\\n<p>确实，Dify 中的工作流功能（Workflow DSL + 可视化画布）结合了底层强大的表达能力和上层易用的交互界面，适用于 AI 流程编排、任务自动化、Agent 路由等场景，非常实用。</p>\\n<p>关于这块是否有开源可复用的组件，分成两个层面来看：</p>\\n<h1>TOPIC</h1>\\n<p><a href=\\"https://github.com/didi/LogicFlow\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/didi/LogicFlow</a></p>","autoDesc":true}');export{d as comp,p as data};
