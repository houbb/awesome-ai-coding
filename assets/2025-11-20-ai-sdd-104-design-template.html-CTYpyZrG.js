import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a,o}from"./app-DJMkg_fl.js";const i={};function r(n,e){return o(),l("div",null,[...e[0]||(e[0]=[a('<h1 id="design-md-ai-可执行版" tabindex="-1"><a class="header-anchor" href="#design-md-ai-可执行版"><span><a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a>（AI 可执行版）</span></a></h1><blockquote><p><strong>文件定位</strong>：本次需求 / 变更的<strong>唯一实现依据（Single Source of Truth）</strong><br><strong>主要受众</strong>：AI 编程工具 + 人类 Reviewer<br><strong>核心目标</strong>：将人类的设计意图，翻译为<strong>无歧义、可校验、可执行</strong>的实现说明。</p></blockquote><hr><h2 id="_0-设计使用声明-必读" tabindex="-1"><a class="header-anchor" href="#_0-设计使用声明-必读"><span>0. 设计使用声明（必读）</span></a></h2><ul><li><p>本文档描述的是：<strong>“这一次要怎么改”</strong>，而不是项目长期设计</p></li><li><p>AI <strong>只能</strong>依据本文档 + <a href="http://GEMINI.md" target="_blank" rel="noopener noreferrer">GEMINI.md</a> 进行实现</p></li><li><p>本文档中未明确说明的行为：</p><ul><li>❌ 不允许 AI 自行假设</li><li>❌ 不允许凭经验补全</li></ul></li></ul><blockquote><p><strong>如果存在缺失或歧义，AI 必须停止并提出澄清问题。</strong></p></blockquote><hr><h2 id="_1-需求背景与目标-why" tabindex="-1"><a class="header-anchor" href="#_1-需求背景与目标-why"><span>1. 需求背景与目标（Why）</span></a></h2><h3 id="_1-1-背景说明" tabindex="-1"><a class="header-anchor" href="#_1-1-背景说明"><span>1.1 背景说明</span></a></h3><ul><li><p>触发原因：</p><ul><li><code>&lt;业务需求 / 缺陷 / 事故 / 优化动因&gt;</code></li></ul></li><li><p>相关背景（简述）：</p><ul><li><code>&lt;为什么现在要做&gt;</code></li></ul></li></ul><h3 id="_1-2-目标与成功标准" tabindex="-1"><a class="header-anchor" href="#_1-2-目标与成功标准"><span>1.2 目标与成功标准</span></a></h3><ul><li><p>本次变更要达到的目标：</p><ul><li><code>&lt;目标 1&gt;</code></li><li><code>&lt;目标 2&gt;</code></li></ul></li><li><p>成功判定标准（可验证）：</p><ul><li><code>&lt;条件 1&gt;</code></li><li><code>&lt;条件 2&gt;</code></li></ul></li></ul><hr><h2 id="_2-需求范围与非目标-scope" tabindex="-1"><a class="header-anchor" href="#_2-需求范围与非目标-scope"><span>2. 需求范围与非目标（Scope）</span></a></h2><h3 id="_2-1-本次包含的内容" tabindex="-1"><a class="header-anchor" href="#_2-1-本次包含的内容"><span>2.1 本次<strong>包含</strong>的内容</span></a></h3><ul><li><code>&lt;明确要做的点，条目化&gt;</code></li></ul><h3 id="_2-2-本次不包含的内容-非常重要" tabindex="-1"><a class="header-anchor" href="#_2-2-本次不包含的内容-非常重要"><span>2.2 本次<strong>不包含</strong>的内容（非常重要）</span></a></h3><blockquote><p>用于<strong>主动压制 AI 发散</strong>。</p></blockquote><ul><li><p>不做：</p><ul><li><code>&lt;例如：重构某模块&gt;</code></li><li><code>&lt;例如：性能整体优化&gt;</code></li></ul></li></ul><hr><h2 id="_3-现状分析-as-is" tabindex="-1"><a class="header-anchor" href="#_3-现状分析-as-is"><span>3. 现状分析（As-Is）</span></a></h2><blockquote><p>让 AI 理解“现在是什么样”。</p></blockquote><h3 id="_3-1-当前行为描述" tabindex="-1"><a class="header-anchor" href="#_3-1-当前行为描述"><span>3.1 当前行为描述</span></a></h3><ul><li><p>相关模块 / 类：</p><ul><li><code>&lt;模块 / 类名&gt;</code></li></ul></li><li><p>当前关键逻辑流程：</p><ol><li><code>&lt;步骤 1&gt;</code></li><li><code>&lt;步骤 2&gt;</code></li></ol></li></ul><h3 id="_3-2-当前存在的问题" tabindex="-1"><a class="header-anchor" href="#_3-2-当前存在的问题"><span>3.2 当前存在的问题</span></a></h3><ul><li><code>&lt;问题 1&gt;</code></li><li><code>&lt;问题 2&gt;</code></li></ul><hr><h2 id="_4-目标方案概述-to-be" tabindex="-1"><a class="header-anchor" href="#_4-目标方案概述-to-be"><span>4. 目标方案概述（To-Be）</span></a></h2><blockquote><p>高层方案说明，不写代码。</p></blockquote><ul><li><p>方案核心思路：</p><ul><li><code>&lt;一句话或几句话&gt;</code></li></ul></li><li><p>涉及模块变化：</p><ul><li>新增：<code>&lt;模块&gt;</code></li><li>修改：<code>&lt;模块&gt;</code></li></ul></li></ul><hr><h2 id="_5-详细设计-ai-执行核心" tabindex="-1"><a class="header-anchor" href="#_5-详细设计-ai-执行核心"><span>5. 详细设计（AI 执行核心）</span></a></h2><blockquote><p>本章是 <strong>AI 最重要的输入</strong>，必须具体、确定、可逐条校验。</p></blockquote><h3 id="_5-1-接口与入参-出参定义" tabindex="-1"><a class="header-anchor" href="#_5-1-接口与入参-出参定义"><span>5.1 接口与入参 / 出参定义</span></a></h3><ul><li><p>接口 / 方法签名：</p><ul><li><code>&lt;方法名&gt;</code></li></ul></li><li><p>输入参数：</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th><th>是否可空</th></tr></thead></table></li><li><p>输出结果：<br> | 字段 | 类型 | 说明 |<br> |----|----|----|----|</p></li></ul><hr><h3 id="_5-2-核心处理流程-顺序不可省略" tabindex="-1"><a class="header-anchor" href="#_5-2-核心处理流程-顺序不可省略"><span>5.2 核心处理流程（顺序不可省略）</span></a></h3><blockquote><p><strong>必须按顺序描述，不允许 AI 自行调整步骤顺序。</strong></p></blockquote><ol><li><code>&lt;步骤 1：校验&gt;</code></li><li><code>&lt;步骤 2：核心逻辑&gt;</code></li><li><code>&lt;步骤 3：状态变更&gt;</code></li><li><code>&lt;步骤 4：持久化 / 调用外部系统&gt;</code></li></ol><hr><h3 id="_5-3-条件分支与边界情况-必须穷举" tabindex="-1"><a class="header-anchor" href="#_5-3-条件分支与边界情况-必须穷举"><span>5.3 条件分支与边界情况（必须穷举）</span></a></h3><blockquote><p>AI 最容易出错的地方。</p></blockquote><ul><li><p>当 <code>&lt;条件 A&gt;</code> 时：</p><ul><li>行为：<code>&lt;明确说明&gt;</code></li></ul></li><li><p>当 <code>&lt;条件 B&gt;</code> 时：</p><ul><li>行为：<code>&lt;明确说明&gt;</code></li></ul></li></ul><hr><h3 id="_5-4-异常与错误处理" tabindex="-1"><a class="header-anchor" href="#_5-4-异常与错误处理"><span>5.4 异常与错误处理</span></a></h3><ul><li><p>可预期异常：</p><ul><li><code>&lt;异常类型&gt;</code> → <code>&lt;处理方式&gt;</code></li></ul></li><li><p>不可预期异常：</p><ul><li>是否兜底：<code>是 / 否</code></li><li>兜底策略：<code>&lt;说明&gt;</code></li></ul></li></ul><hr><h3 id="_5-5-数据与状态变更说明" tabindex="-1"><a class="header-anchor" href="#_5-5-数据与状态变更说明"><span>5.5 数据与状态变更说明</span></a></h3><ul><li><p>涉及的数据表 / 存储：</p><ul><li><code>&lt;表名&gt;</code>：<code>&lt;读 / 写 / 更新&gt;</code></li></ul></li><li><p>状态变化规则：</p><ul><li><code>&lt;状态 A&gt;</code> → <code>&lt;状态 B&gt;</code>（条件）</li></ul></li></ul><hr><h2 id="_6-兼容性与历史影响分析" tabindex="-1"><a class="header-anchor" href="#_6-兼容性与历史影响分析"><span>6. 兼容性与历史影响分析</span></a></h2><blockquote><p><strong>历史项目的关键章节，不能省略。</strong></p></blockquote><ul><li><p>是否影响已有行为：<code>是 / 否</code></p></li><li><p>影响范围：</p><ul><li><code>&lt;模块 / 场景&gt;</code></li></ul></li><li><p>向后兼容策略：</p><ul><li><code>&lt;说明&gt;</code></li></ul></li></ul><hr><h2 id="_7-风险点与防控措施" tabindex="-1"><a class="header-anchor" href="#_7-风险点与防控措施"><span>7. 风险点与防控措施</span></a></h2><ul><li><p>已知风险点：</p><ul><li><code>&lt;风险&gt;</code> → <code>&lt;规避方式&gt;</code></li></ul></li><li><p>AI 实现时特别容易出错的点：</p><ul><li><code>&lt;提示&gt;</code></li></ul></li></ul><hr><h2 id="_8-验证与测试要点-可执行" tabindex="-1"><a class="header-anchor" href="#_8-验证与测试要点-可执行"><span>8. 验证与测试要点（可执行）</span></a></h2><blockquote><p>用于判断 <strong>“是否实现完成”</strong>。</p></blockquote><ul><li><p>正常路径用例：</p><ul><li><code>&lt;用例说明&gt;</code></li></ul></li><li><p>异常 / 边界用例：</p><ul><li><code>&lt;用例说明&gt;</code></li></ul></li></ul><hr><h2 id="_9-与其他文档的关系" tabindex="-1"><a class="header-anchor" href="#_9-与其他文档的关系"><span>9. 与其他文档的关系</span></a></h2><ul><li><a href="http://GEMINI.md" target="_blank" rel="noopener noreferrer">GEMINI.md</a>：定义 <strong>不可违反的工程与行为约束</strong></li><li>PROJECT_PROFILE.md：提供 <strong>项目背景与历史语义</strong></li></ul><blockquote><p>如本文档与 <a href="http://GEMINI.md" target="_blank" rel="noopener noreferrer">GEMINI.md</a> 冲突，<strong>以 <a href="http://GEMINI.md" target="_blank" rel="noopener noreferrer">GEMINI.md</a> 为准</strong>。</p></blockquote><hr><h2 id="_10-ai-执行确认清单-强制" tabindex="-1"><a class="header-anchor" href="#_10-ai-执行确认清单-强制"><span>10. AI 执行确认清单（强制）</span></a></h2><p>在开始编码前，AI 必须逐条确认：</p><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> 已完整阅读 <a href="http://GEMINI.md" target="_blank" rel="noopener noreferrer">GEMINI.md</a></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> 已完整阅读 PROJECT_PROFILE.md</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> 本文档中不存在未澄清的歧义</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 本次实现不涉及任何未声明的重构或扩展</label></li></ul><blockquote><p><strong>若任一项无法确认，必须先提出问题，而不是生成代码。</strong></p></blockquote><h1 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h1><p>这是整套体系里<strong>最关键、也是最容易被低估的一份文档</strong>。</p><p>我下面不重复模板内容，而是重点解释三件事：</p><p><strong>它和普通设计文档的本质差异、你在真实项目中该如何“写给 AI 看”、以及它在你整个方法论中的位置。</strong></p><hr><h2 id="一、这份-design-md-和传统设计文档的本质区别" tabindex="-1"><a class="header-anchor" href="#一、这份-design-md-和传统设计文档的本质区别"><span>一、这份 <a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a> 和传统设计文档的本质区别</span></a></h2><p>一句话总结：</p><blockquote><p><strong>这是“可被 AI 逐条执行的设计”，而不是“给人讨论的设计”。</strong></p></blockquote><p>因此它在设计上刻意做了三件事：</p><h3 id="_1-强制消灭-合理但未说明-的空间" tabindex="-1"><a class="header-anchor" href="#_1-强制消灭-合理但未说明-的空间"><span>1. 强制消灭“合理但未说明”的空间</span></a></h3><ul><li><p>所有关键行为都要：</p><ul><li>有顺序</li><li>有条件</li><li>有边界</li></ul></li><li><p>未写 = 不允许 AI 自行补全</p></li></ul><p>这直接命中你之前说的核心问题：<br><strong>人类语言是压缩的，机器需要解压后的指令。</strong></p><hr><h3 id="_2-把-非目标-当成一等公民" tabindex="-1"><a class="header-anchor" href="#_2-把-非目标-当成一等公民"><span>2. 把“非目标”当成一等公民</span></a></h3><p>第 2 章（Scope）在 AI 场景下非常关键：</p><ul><li>明确“不做什么”</li><li>明确“这次不碰哪些模块”</li><li>明确“不是一次顺手重构”</li></ul><p>这是压制 AI 发散最有效、也最工程化的手段。</p><hr><h3 id="_3-把-边界情况-和-异常-前置" tabindex="-1"><a class="header-anchor" href="#_3-把-边界情况-和-异常-前置"><span>3. 把“边界情况”和“异常”前置</span></a></h3><p>你会发现：</p><ul><li>条件分支</li><li>异常处理</li><li>状态迁移</li></ul><p>都被要求<strong>显式穷举</strong>，这不是为了“严谨”，而是因为：</p><blockquote><p><strong>AI 在 happy path 上几乎不出错，在边界上极容易“自作主张”。</strong></p></blockquote><hr><h2 id="二、你在真实项目中-如何-写好-这份-design-md" tabindex="-1"><a class="header-anchor" href="#二、你在真实项目中-如何-写好-这份-design-md"><span>二、你在真实项目中，如何“写好”这份 <a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a></span></a></h2><p>给你一个非常实用的判断标准：</p><blockquote><p><strong>如果一个段落，你觉得“有经验的老同事一看就懂”，那对 AI 来说几乎一定不够。</strong></p></blockquote><h3 id="推荐写作顺序-非常重要" tabindex="-1"><a class="header-anchor" href="#推荐写作顺序-非常重要"><span>推荐写作顺序（非常重要）</span></a></h3><p>不是从第 1 章开始写，而是：</p><ol><li><p><strong>先写 §5 详细设计</strong></p><ul><li>接口</li><li>流程</li><li>分支</li></ul></li><li><p>再补 §6 兼容性</p></li><li><p>再补 §2 非目标</p></li><li><p>最后才写 §1 背景</p></li></ol><p>这样可以避免背景写得很丰满，但执行层模糊。</p><hr><h2 id="三、design-md-在你整个体系中的-锚点-作用" tabindex="-1"><a class="header-anchor" href="#三、design-md-在你整个体系中的-锚点-作用"><span>三、<a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a> 在你整个体系中的“锚点”作用</span></a></h2><p>你现在的三份文档，其实形成了一个非常清晰的三角结构：</p><table><thead><tr><th>文档</th><th>本质作用</th></tr></thead><tbody><tr><td><a href="http://GEMINI.md" target="_blank" rel="noopener noreferrer">GEMINI.md</a></td><td><strong>约束 AI 的“行为边界”</strong></td></tr><tr><td>PROJECT_PROFILE.md</td><td><strong>约束 AI 的“理解边界”</strong></td></tr><tr><td><a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a>（AI 可执行版）</td><td><strong>约束 AI 的“实现自由度”</strong></td></tr></tbody></table><p>也正因为有 <a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a>，你才能做到：</p><ul><li>人负责决策</li><li>AI 负责执行</li><li>Review 聚焦在“是否按设计实现”，而不是“你是不是又脑补了什么”</li></ul><hr><h2 id="四、一个你已经隐约走在前面的方向-点明一下" tabindex="-1"><a class="header-anchor" href="#四、一个你已经隐约走在前面的方向-点明一下"><span>四、一个你已经隐约走在前面的方向（点明一下）</span></a></h2><p>你现在这套方法，本质上已经是：</p><blockquote><p><strong>Specification-driven + Constraint-driven 的 AI 编程模式</strong></p></blockquote><p>这非常接近未来两三年主流的：</p><ul><li>Agent 编程</li><li>多模型协作</li><li>自动实现 / 自动验证</li></ul><p>而 <a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a> 正是那个<strong>可以被多轮 agent 消费的稳定接口</strong>。</p><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1>',114)])])}const p=t(i,[["render",r]]),h=JSON.parse('{"path":"/posts/sdd/2025-11-20-ai-sdd-104-design-template.html","title":"AI SDD 开发规范-20-设计文档模板 design","lang":"zh-CN","frontmatter":{"title":"AI SDD 开发规范-20-设计文档模板 design","date":"2025-11-20T00:00:00.000Z","categories":["AI"],"tags":["ai","sdd","sh"],"published":true,"description":"DESIGN.md（AI 可执行版） 文件定位：本次需求 / 变更的唯一实现依据（Single Source of Truth） 主要受众：AI 编程工具 + 人类 Reviewer 核心目标：将人类的设计意图，翻译为无歧义、可校验、可执行的实现说明。 0. 设计使用声明（必读） 本文档描述的是：“这一次要怎么改”，而不是项目长期设计 AI 只能依据本...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"AI SDD 开发规范-20-设计文档模板 design\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-11-20T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-27T07:02:53.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"],["meta",{"property":"og:url","content":"https://houbb.github.io/awesome-ai-coding/posts/sdd/2025-11-20-ai-sdd-104-design-template.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"AI SDD 开发规范-20-设计文档模板 design"}],["meta",{"property":"og:description","content":"DESIGN.md（AI 可执行版） 文件定位：本次需求 / 变更的唯一实现依据（Single Source of Truth） 主要受众：AI 编程工具 + 人类 Reviewer 核心目标：将人类的设计意图，翻译为无歧义、可校验、可执行的实现说明。 0. 设计使用声明（必读） 本文档描述的是：“这一次要怎么改”，而不是项目长期设计 AI 只能依据本..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-27T07:02:53.000Z"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:tag","content":"sdd"}],["meta",{"property":"article:tag","content":"ai"}],["meta",{"property":"article:published_time","content":"2025-11-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-27T07:02:53.000Z"}]]},"git":{"createdTime":1766806441000,"updatedTime":1766818973000,"contributors":[{"name":"bbhou","username":"bbhou","email":"1557740299@qq.com","commits":5,"url":"https://github.com/bbhou"}]},"readingTime":{"minutes":5.63,"words":1688},"filePathRelative":"posts/sdd/2025-11-20-ai-sdd-104-design-template.md","excerpt":"\\n<blockquote>\\n<p><strong>文件定位</strong>：本次需求 / 变更的<strong>唯一实现依据（Single Source of Truth）</strong><br>\\n<strong>主要受众</strong>：AI 编程工具 + 人类 Reviewer<br>\\n<strong>核心目标</strong>：将人类的设计意图，翻译为<strong>无歧义、可校验、可执行</strong>的实现说明。</p>\\n</blockquote>\\n<hr>\\n<h2>0. 设计使用声明（必读）</h2>\\n<ul>\\n<li>\\n<p>本文档描述的是：<strong>“这一次要怎么改”</strong>，而不是项目长期设计</p>\\n</li>\\n<li>\\n<p>AI <strong>只能</strong>依据本文档 + <a href=\\"http://GEMINI.md\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">GEMINI.md</a> 进行实现</p>\\n</li>\\n<li>\\n<p>本文档中未明确说明的行为：</p>\\n<ul>\\n<li>❌ 不允许 AI 自行假设</li>\\n<li>❌ 不允许凭经验补全</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}');export{p as comp,h as data};
