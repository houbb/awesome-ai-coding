import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as n}from"./app-CoVRO5bg.js";const l={};function h(t,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="如何进一步明确设计-保障设计足够准确、详细。避免模糊" tabindex="-1"><a class="header-anchor" href="#如何进一步明确设计-保障设计足够准确、详细。避免模糊"><span>如何进一步明确设计，保障设计足够准确、详细。避免模糊</span></a></h1><p>这是一个<strong>非常工程化、而且已经站在“AI 可执行设计”层面的问题</strong>。<br> 你的核心诉求可以准确表述为：</p><blockquote><p><strong>如何把 Design 文档从“人能看懂的大概方案”，升级为“人和 AI 都无法误读的执行说明书”。</strong></p></blockquote><p>下面我不从“多写点细节”这种泛泛之谈说起，而是给你一套<strong>可操作、可检查、可强制执行的设计文档强化方法论</strong>，并且<strong>天然适配你当前的 AI 编程工作流（<a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a> + <a href="http://GEMINI.md" target="_blank" rel="noopener noreferrer">GEMINI.md</a> + 风险扫描）</strong>。</p><hr><h2 id="一、先给一个总原则-非常关键" tabindex="-1"><a class="header-anchor" href="#一、先给一个总原则-非常关键"><span>一、先给一个总原则（非常关键）</span></a></h2><blockquote><p><strong>Design 文档的目标不是“描述怎么做”，而是“消灭歧义空间”。</strong></p></blockquote><p>任何一段设计，只要存在以下情况之一，就一定不够好：</p><ul><li>可以被两种合理方式实现</li><li>AI 能“自作主张”补全细节</li><li>资深工程师需要“凭经验理解”</li></ul><hr><h2 id="二、设计文档最容易模糊的-6-类位置-重点" tabindex="-1"><a class="header-anchor" href="#二、设计文档最容易模糊的-6-类位置-重点"><span>二、设计文档最容易模糊的 6 类位置（重点）</span></a></h2><p>你可以把这 6 类当成<strong>强制扫描点</strong>。</p><hr><h3 id="明确信息" tabindex="-1"><a class="header-anchor" href="#明确信息"><span>明确信息</span></a></h3><ol><li>避免包名、类名、方法名不明确</li></ol><p>2）避免方法参数、返回值不明确</p><p>3）jar 包依赖关系不明确</p><h3 id="_1️⃣-行为语义模糊-behavior-ambiguity" tabindex="-1"><a class="header-anchor" href="#_1️⃣-行为语义模糊-behavior-ambiguity"><span>1️⃣ 行为语义模糊（Behavior Ambiguity）</span></a></h3><p>❌ 常见写法：</p><blockquote><p>“失败时进行重试”</p></blockquote><p>问题：</p><ul><li>重试几次？</li><li>哪些失败？</li><li>是否有副作用？</li></ul><p>✅ 强化写法：</p><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">当请求返回 HTTP 5xx 或网络异常时：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 进行最多 3 次重试</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 重试间隔为 200ms、500ms、1000ms</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 重试期间不得产生额外副作用</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2️⃣-边界条件缺失-boundary-gaps" tabindex="-1"><a class="header-anchor" href="#_2️⃣-边界条件缺失-boundary-gaps"><span>2️⃣ 边界条件缺失（Boundary Gaps）</span></a></h3><p>❌：</p><blockquote><p>“正常情况下返回结果”</p></blockquote><p>问题：</p><ul><li>什么是“正常”？</li><li>空值算不算？</li></ul><p>✅：</p><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 当查询结果为空时：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 返回空数组（[]）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> HTTP 状态码仍为 200</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3️⃣-非功能性要求被隐含-hidden-nfr" tabindex="-1"><a class="header-anchor" href="#_3️⃣-非功能性要求被隐含-hidden-nfr"><span>3️⃣ 非功能性要求被隐含（Hidden NFR）</span></a></h3><p>❌：</p><blockquote><p>“保证性能”</p></blockquote><p>问题：</p><ul><li>性能标准是什么？</li><li>超过怎么办？</li></ul><p>✅：</p><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 单次接口 P99 响应时间 ≤ 200ms</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 超出阈值时：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 打印 WARN 日志</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 不影响主流程</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_4️⃣-时序与因果不清-temporal-ambiguity" tabindex="-1"><a class="header-anchor" href="#_4️⃣-时序与因果不清-temporal-ambiguity"><span>4️⃣ 时序与因果不清（Temporal Ambiguity）</span></a></h3><p>❌：</p><blockquote><p>“处理完成后发送通知”</p></blockquote><p>问题：</p><ul><li>哪一步算完成？</li><li>事务内还是外？</li></ul><p>✅：</p><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> DB 事务提交成功后</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 异步发送通知</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 通知失败不得回滚主事务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_5️⃣-责任边界模糊-ownership-ambiguity" tabindex="-1"><a class="header-anchor" href="#_5️⃣-责任边界模糊-ownership-ambiguity"><span>5️⃣ 责任边界模糊（Ownership Ambiguity）</span></a></h3><p>❌：</p><blockquote><p>“系统负责校验参数合法性”</p></blockquote><p>问题：</p><ul><li>哪一层？</li><li>哪些参数？</li></ul><p>✅：</p><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Controller 层：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 校验参数是否为空、格式是否合法</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Service 层：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 校验业务规则</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_6️⃣-失败路径未设计-failure-path-omission" tabindex="-1"><a class="header-anchor" href="#_6️⃣-失败路径未设计-failure-path-omission"><span>6️⃣ 失败路径未设计（Failure Path Omission）</span></a></h3><p>❌：</p><blockquote><p>“异常情况下记录日志”</p></blockquote><p>问题：</p><ul><li>哪些异常？</li><li>是否抛出？</li></ul><p>✅：</p><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 对于可恢复异常：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 记录 ERROR 日志</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 返回业务错误码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 对于不可恢复异常：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 直接抛出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="三、设计文档的「强制结构模板」-ai-可执行版" tabindex="-1"><a class="header-anchor" href="#三、设计文档的「强制结构模板」-ai-可执行版"><span>三、设计文档的「强制结构模板」（AI 可执行版）</span></a></h2><p>这是<strong>核心交付</strong>，建议你直接采用。</p><hr><h1 id="design-md-strict-ai-executable" tabindex="-1"><a class="header-anchor" href="#design-md-strict-ai-executable"><span><a href="http://DESIGN.md" target="_blank" rel="noopener noreferrer">DESIGN.md</a>（Strict / AI-Executable）</span></a></h1><h2 id="_1-设计目标-明确可验" tabindex="-1"><a class="header-anchor" href="#_1-设计目标-明确可验"><span>1. 设计目标（明确可验）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">本设计的唯一目标是：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 在不修改现有接口的前提下</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 支持订单的自动超时关闭</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>❗ 非目标必须写清楚。</p><hr><h2 id="_2-输入-输出契约-contract-first" tabindex="-1"><a class="header-anchor" href="#_2-输入-输出契约-contract-first"><span>2. 输入 / 输出契约（Contract First）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">### 输入</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orderId: Long（必填）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> timeoutMinutes: Int（范围 1～1440）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">### 输出</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> success: Boolean</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> errorCode: String（仅失败时）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_3-核心流程-逐步、不可跳跃" tabindex="-1"><a class="header-anchor" href="#_3-核心流程-逐步、不可跳跃"><span>3. 核心流程（逐步、不可跳跃）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 校验参数合法性</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">2.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 查询订单</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">3.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 若订单不存在：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">   -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 返回 NOT_FOUND</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">4.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 若订单已关闭：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">   -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 直接返回 success</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">5.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 更新订单状态为 CLOSED</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">6.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 提交事务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">7.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 异步发送通知</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>❗ 禁止使用“等”“然后”“相关处理”等词。</p><hr><h2 id="_4-状态变化与不变量-state-invariants" tabindex="-1"><a class="header-anchor" href="#_4-状态变化与不变量-state-invariants"><span>4. 状态变化与不变量（State &amp; Invariants）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 状态只能从 OPEN → CLOSED</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 不允许 CLOSED → OPEN</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 状态变更必须持久化</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_5-并发与一致性策略-必须" tabindex="-1"><a class="header-anchor" href="#_5-并发与一致性策略-必须"><span>5. 并发与一致性策略（必须）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 使用数据库行锁保证同一订单只被关闭一次</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 不引入分布式锁</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_6-异常与失败设计-必填" tabindex="-1"><a class="header-anchor" href="#_6-异常与失败设计-必填"><span>6. 异常与失败设计（必填）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| 场景 | 行为 |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|----|----|</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| DB 查询失败 | 抛出异常 |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| 更新失败 | 回滚事务 |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| 通知失败 | 记录日志，不重试 |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_7-日志-监控-可观测性" tabindex="-1"><a class="header-anchor" href="#_7-日志-监控-可观测性"><span>7. 日志 / 监控 / 可观测性</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 状态变更成功：INFO</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 状态变更失败：ERROR</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_8-风险与隐性约束声明-对接-tacit" tabindex="-1"><a class="header-anchor" href="#_8-风险与隐性约束声明-对接-tacit"><span>8. 风险与隐性约束声明（对接 TACIT）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 不允许修改订单状态枚举</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 不允许影响历史订单</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="四、一个非常有效的-反模糊-技巧" tabindex="-1"><a class="header-anchor" href="#四、一个非常有效的-反模糊-技巧"><span>四、一个非常有效的“反模糊”技巧</span></a></h2><h3 id="🔴-设计完成后-做一次-敌对实现审查" tabindex="-1"><a class="header-anchor" href="#🔴-设计完成后-做一次-敌对实现审查"><span>🔴 设计完成后，做一次 <strong>“敌对实现审查”</strong></span></a></h3><p>给 AI 下指令：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>请尝试用最容易误解设计文档的方式来实现，</span></span>
<span class="line"><span>并指出哪些地方可以被合理地误读。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>你会非常快发现：</p><ul><li>哪些地方你“以为说清楚了”</li><li>实际根本没说清</li></ul><hr><h2 id="五、强制性流程建议-与你体系强相关" tabindex="-1"><a class="header-anchor" href="#五、强制性流程建议-与你体系强相关"><span>五、强制性流程建议（与你体系强相关）</span></a></h2><p>你可以形成一个<strong>闭环</strong>：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>DESIGN.md</span></span>
<span class="line"><span>  ↓（模糊扫描）</span></span>
<span class="line"><span>AI 提出歧义点</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>补充设计</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>风险扫描 Checklist</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>允许执行</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1>`,106)])])}const p=i(l,[["render",h]]),k=JSON.parse('{"path":"/posts/sdd/2025-11-20-ai-sdd-12-clarify.html","title":"AI SDD 开发规范-12-明确设计，保障设计足够准确、详细。避免模糊","lang":"zh-CN","frontmatter":{"title":"AI SDD 开发规范-12-明确设计，保障设计足够准确、详细。避免模糊","date":"2025-11-20T00:00:00.000Z","categories":["AI"],"tags":["ai","sdd","sh"],"published":true,"description":"如何进一步明确设计，保障设计足够准确、详细。避免模糊 这是一个非常工程化、而且已经站在“AI 可执行设计”层面的问题。 你的核心诉求可以准确表述为： 如何把 Design 文档从“人能看懂的大概方案”，升级为“人和 AI 都无法误读的执行说明书”。 下面我不从“多写点细节”这种泛泛之谈说起，而是给你一套可操作、可检查、可强制执行的设计文档强化方法论，并...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"AI SDD 开发规范-12-明确设计，保障设计足够准确、详细。避免模糊\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-11-20T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-27T07:18:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"],["meta",{"property":"og:url","content":"https://houbb.github.io/awesome-ai-coding/posts/sdd/2025-11-20-ai-sdd-12-clarify.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"AI SDD 开发规范-12-明确设计，保障设计足够准确、详细。避免模糊"}],["meta",{"property":"og:description","content":"如何进一步明确设计，保障设计足够准确、详细。避免模糊 这是一个非常工程化、而且已经站在“AI 可执行设计”层面的问题。 你的核心诉求可以准确表述为： 如何把 Design 文档从“人能看懂的大概方案”，升级为“人和 AI 都无法误读的执行说明书”。 下面我不从“多写点细节”这种泛泛之谈说起，而是给你一套可操作、可检查、可强制执行的设计文档强化方法论，并..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-27T07:18:50.000Z"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:tag","content":"sdd"}],["meta",{"property":"article:tag","content":"ai"}],["meta",{"property":"article:published_time","content":"2025-11-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-27T07:18:50.000Z"}]]},"git":{"createdTime":1766818973000,"updatedTime":1766819930000,"contributors":[{"name":"bbhou","username":"bbhou","email":"1557740299@qq.com","commits":2,"url":"https://github.com/bbhou"}]},"readingTime":{"minutes":4.14,"words":1242},"filePathRelative":"posts/sdd/2025-11-20-ai-sdd-12-clarify.md","excerpt":"\\n<p>这是一个<strong>非常工程化、而且已经站在“AI 可执行设计”层面的问题</strong>。<br>\\n你的核心诉求可以准确表述为：</p>\\n<blockquote>\\n<p><strong>如何把 Design 文档从“人能看懂的大概方案”，升级为“人和 AI 都无法误读的执行说明书”。</strong></p>\\n</blockquote>\\n<p>下面我不从“多写点细节”这种泛泛之谈说起，而是给你一套<strong>可操作、可检查、可强制执行的设计文档强化方法论</strong>，并且<strong>天然适配你当前的 AI 编程工作流（<a href=\\"http://DESIGN.md\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">DESIGN.md</a> + <a href=\\"http://GEMINI.md\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">GEMINI.md</a> + 风险扫描）</strong>。</p>","autoDesc":true}');export{p as comp,k as data};
