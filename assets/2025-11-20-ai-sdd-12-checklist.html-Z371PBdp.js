import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a as e,o as i}from"./app-BsNixVBM.js";const l={};function c(n,s){return i(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="改代码前风险扫描-checklist" tabindex="-1"><a class="header-anchor" href="#改代码前风险扫描-checklist"><span>改代码前风险扫描 Checklist</span></a></h1><p>下面给你一套<strong>可直接落地、为 AI 编程设计的《改代码前风险扫描 Checklist》</strong>。<br> 它的定位非常明确：</p><blockquote><p><strong>在 AI 真正“动手改代码”之前，用一套强制自检问题，把隐性风险、历史包袱和不可逆后果尽量前移暴露出来。</strong></p></blockquote><p>这不是给人看的流程表，而是<strong>可以直接嵌入 Prompt / CLI / AI Agent 执行前置阶段的“硬门禁”</strong>。</p><hr><h1 id="ai-改代码前风险扫描-checklist-pre-change-risk-scan" tabindex="-1"><a class="header-anchor" href="#ai-改代码前风险扫描-checklist-pre-change-risk-scan"><span>AI 改代码前风险扫描 Checklist（Pre-Change Risk Scan）</span></a></h1><blockquote><p><strong>使用规则</strong></p><ul><li>本 Checklist 必须在任何代码修改前完整执行</li><li>任一「高风险项」为 <em>Yes / Unknown</em> 时，AI 必须中止执行并转为澄清模式</li><li>本 Checklist 的结论必须随代码一并输出，作为审计记录</li></ul></blockquote><hr><h2 id="一、变更意图与边界确认-intent-boundary-scan" tabindex="-1"><a class="header-anchor" href="#一、变更意图与边界确认-intent-boundary-scan"><span>一、变更意图与边界确认（Intent Boundary Scan）</span></a></h2><h3 id="_1️⃣-修改目标是否明确且单一" tabindex="-1"><a class="header-anchor" href="#_1️⃣-修改目标是否明确且单一"><span>1️⃣ 修改目标是否<strong>明确且单一</strong></span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> 本次修改是否只为解决一个明确问题？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> 是否避免了“顺手优化”“顺便重构”？</label></li></ul><p>❗ 风险提示：</p><blockquote><p>多目标修改是历史系统事故的主要诱因之一。</p></blockquote><hr><h3 id="_2️⃣-是否存在隐性行为变化" tabindex="-1"><a class="header-anchor" href="#_2️⃣-是否存在隐性行为变化"><span>2️⃣ 是否存在<strong>隐性行为变化</strong></span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> 是否改变接口语义（即使返回值未变）？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 是否改变异常抛出、吞掉或日志行为？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" disabled="disabled"><label class="task-list-item-label" for="task-item-4"> 是否改变时序、重试或副作用？</label></li></ul><p>如 <em>Yes / Unknown</em> → <strong>高风险</strong></p><hr><h2 id="二、接口与契约扫描-contract-scan" tabindex="-1"><a class="header-anchor" href="#二、接口与契约扫描-contract-scan"><span>二、接口与契约扫描（Contract Scan）</span></a></h2><h3 id="_3️⃣-是否涉及对外接口-显式或隐式" tabindex="-1"><a class="header-anchor" href="#_3️⃣-是否涉及对外接口-显式或隐式"><span>3️⃣ 是否涉及对外接口（显式或隐式）</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-5" disabled="disabled"><label class="task-list-item-label" for="task-item-5"> 是否修改 public API / RPC / MQ 消息结构？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-6" disabled="disabled"><label class="task-list-item-label" for="task-item-6"> 是否影响老客户端或外部系统？</label></li></ul><p>❗ 原则：</p><blockquote><p><strong>接口一旦发布，真实使用面永远比你知道的多。</strong></p></blockquote><hr><h3 id="_4️⃣-是否违反隐式契约" tabindex="-1"><a class="header-anchor" href="#_4️⃣-是否违反隐式契约"><span>4️⃣ 是否违反隐式契约</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-7" disabled="disabled"><label class="task-list-item-label" for="task-item-7"> 是否假设接口“无副作用”？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-8" disabled="disabled"><label class="task-list-item-label" for="task-item-8"> 是否假设调用方“总是规范的”？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-9" disabled="disabled"><label class="task-list-item-label" for="task-item-9"> 是否假设失败是“安全的”？</label></li></ul><p>如无法确认 → <strong>Unknown = 高风险</strong></p><hr><h2 id="三、数据与状态风险扫描-data-state-scan" tabindex="-1"><a class="header-anchor" href="#三、数据与状态风险扫描-data-state-scan"><span>三、数据与状态风险扫描（Data &amp; State Scan）</span></a></h2><h3 id="_5️⃣-是否修改数据模型或字段语义" tabindex="-1"><a class="header-anchor" href="#_5️⃣-是否修改数据模型或字段语义"><span>5️⃣ 是否修改数据模型或字段语义</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-10" disabled="disabled"><label class="task-list-item-label" for="task-item-10"> 是否新增 / 删除 / 重命名字段？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-11" disabled="disabled"><label class="task-list-item-label" for="task-item-11"> 是否改变字段含义、生命周期或默认值？</label></li></ul><hr><h3 id="_6️⃣-是否影响历史数据" tabindex="-1"><a class="header-anchor" href="#_6️⃣-是否影响历史数据"><span>6️⃣ 是否影响历史数据</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-12" disabled="disabled"><label class="task-list-item-label" for="task-item-12"> 是否假设历史数据“干净且完整”？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-13" disabled="disabled"><label class="task-list-item-label" for="task-item-13"> 是否忽略脏数据、缺失字段或非法值？</label></li></ul><p>❗ 历史系统常态：</p><blockquote><p><strong>数据比代码老，也更不可信。</strong></p></blockquote><hr><h2 id="四、并发、缓存与一致性扫描-concurrency-scan" tabindex="-1"><a class="header-anchor" href="#四、并发、缓存与一致性扫描-concurrency-scan"><span>四、并发、缓存与一致性扫描（Concurrency Scan）</span></a></h2><h3 id="_7️⃣-是否涉及并发或异步行为" tabindex="-1"><a class="header-anchor" href="#_7️⃣-是否涉及并发或异步行为"><span>7️⃣ 是否涉及并发或异步行为</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-14" disabled="disabled"><label class="task-list-item-label" for="task-item-14"> 是否涉及多线程 / 协程 / 异步回调？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-15" disabled="disabled"><label class="task-list-item-label" for="task-item-15"> 是否影响锁、队列、并发安全？</label></li></ul><hr><h3 id="_8️⃣-是否涉及缓存-mq-重试机制" tabindex="-1"><a class="header-anchor" href="#_8️⃣-是否涉及缓存-mq-重试机制"><span>8️⃣ 是否涉及缓存 / MQ / 重试机制</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-16" disabled="disabled"><label class="task-list-item-label" for="task-item-16"> 是否修改缓存 Key、TTL 或淘汰策略？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-17" disabled="disabled"><label class="task-list-item-label" for="task-item-17"> 是否改变 MQ 投递、消费或幂等逻辑？</label></li></ul><p>❗ 高危领域：</p><blockquote><p>缓存、超时、重试、并发是事故密集区。</p></blockquote><hr><h2 id="五、历史包袱与冻结区扫描-legacy-frozen-scan" tabindex="-1"><a class="header-anchor" href="#五、历史包袱与冻结区扫描-legacy-frozen-scan"><span>五、历史包袱与冻结区扫描（Legacy &amp; Frozen Scan）</span></a></h2><h3 id="_9️⃣-是否触碰冻结区域" tabindex="-1"><a class="header-anchor" href="#_9️⃣-是否触碰冻结区域"><span>9️⃣ 是否触碰冻结区域</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-18" disabled="disabled"><label class="task-list-item-label" for="task-item-18"> 是否修改 Frozen Zone / Legacy 模块？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-19" disabled="disabled"><label class="task-list-item-label" for="task-item-19"> 是否修改“明确不推荐修改”的代码？</label></li></ul><hr><h3 id="🔟-是否已检查历史事故与已知陷阱" tabindex="-1"><a class="header-anchor" href="#🔟-是否已检查历史事故与已知陷阱"><span>🔟 是否已检查历史事故与已知陷阱</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-20" disabled="disabled"><label class="task-list-item-label" for="task-item-20"> 是否查阅 <code>Historical Incidents / Known Traps</code>？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-21" disabled="disabled"><label class="task-list-item-label" for="task-item-21"> 本次修改是否与历史事故相似？</label></li></ul><p>如未检查 → <strong>禁止修改</strong></p><hr><h2 id="六、系统性影响扫描-blast-radius-scan" tabindex="-1"><a class="header-anchor" href="#六、系统性影响扫描-blast-radius-scan"><span>六、系统性影响扫描（Blast Radius Scan）</span></a></h2><h3 id="_1️⃣1️⃣-影响面是否可控" tabindex="-1"><a class="header-anchor" href="#_1️⃣1️⃣-影响面是否可控"><span>1️⃣1️⃣ 影响面是否可控</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-22" disabled="disabled"><label class="task-list-item-label" for="task-item-22"> 是否只影响单模块？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-23" disabled="disabled"><label class="task-list-item-label" for="task-item-23"> 是否存在链式影响可能？</label></li></ul><hr><h3 id="_1️⃣2️⃣-是否存在不可逆后果" tabindex="-1"><a class="header-anchor" href="#_1️⃣2️⃣-是否存在不可逆后果"><span>1️⃣2️⃣ 是否存在不可逆后果</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-24" disabled="disabled"><label class="task-list-item-label" for="task-item-24"> 是否可能导致数据不可回滚？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-25" disabled="disabled"><label class="task-list-item-label" for="task-item-25"> 是否可能影响线上流量或生产环境？</label></li></ul><p>❗ 原则：</p><blockquote><p><strong>AI 不得制造“人无法兜底”的变更。</strong></p></blockquote><hr><h2 id="七、测试与验证能力扫描-verification-scan" tabindex="-1"><a class="header-anchor" href="#七、测试与验证能力扫描-verification-scan"><span>七、测试与验证能力扫描（Verification Scan）</span></a></h2><h3 id="_1️⃣3️⃣-是否有验证手段" tabindex="-1"><a class="header-anchor" href="#_1️⃣3️⃣-是否有验证手段"><span>1️⃣3️⃣ 是否有验证手段</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-26" disabled="disabled"><label class="task-list-item-label" for="task-item-26"> 是否存在对应测试（单测 / 集成 / 回归）？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-27" disabled="disabled"><label class="task-list-item-label" for="task-item-27"> 是否能覆盖关键路径？</label></li></ul><hr><h3 id="_1️⃣4️⃣-是否能观察到结果" tabindex="-1"><a class="header-anchor" href="#_1️⃣4️⃣-是否能观察到结果"><span>1️⃣4️⃣ 是否能观察到结果</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-28" disabled="disabled"><label class="task-list-item-label" for="task-item-28"> 是否有日志 / 指标 / Trace 佐证？</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-29" disabled="disabled"><label class="task-list-item-label" for="task-item-29"> 是否能快速定位回滚点？</label></li></ul><hr><h2 id="八、权限与执行决策-final-gate" tabindex="-1"><a class="header-anchor" href="#八、权限与执行决策-final-gate"><span>八、权限与执行决策（Final Gate）</span></a></h2><h3 id="_1️⃣5️⃣-风险分级判断-必须输出" tabindex="-1"><a class="header-anchor" href="#_1️⃣5️⃣-风险分级判断-必须输出"><span>1️⃣5️⃣ 风险分级判断（必须输出）</span></a></h3><ul><li>☐ <strong>L1 低风险</strong>（允许直接执行）</li><li>☐ <strong>L2 中风险</strong>（需明确风险说明）</li><li>☐ <strong>L3 高风险</strong>（禁止直接修改）</li></ul><hr><h3 id="_1️⃣6️⃣-ai-执行决策" tabindex="-1"><a class="header-anchor" href="#_1️⃣6️⃣-ai-执行决策"><span>1️⃣6️⃣ AI 执行决策</span></a></h3><ul><li>☐ 允许修改</li><li>☐ 需澄清后修改</li><li>☐ 拒绝修改，仅输出方案</li></ul><hr><h2 id="九、ai-输出强制格式-可直接用" tabindex="-1"><a class="header-anchor" href="#九、ai-输出强制格式-可直接用"><span>九、AI 输出强制格式（可直接用）</span></a></h2><div class="language-md line-numbers-mode" data-highlighter="shiki" data-ext="md" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-md"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">### 风险扫描结论</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 变更目标：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 涉及模块：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 高风险项：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 隐性契约影响：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 历史陷阱检查结果：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 风险等级：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 执行决策：</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="十、一个工程级总结" tabindex="-1"><a class="header-anchor" href="#十、一个工程级总结"><span>十、一个工程级总结</span></a></h2><blockquote><p><strong>Checklist 的价值不在于“减少错误”，而在于“把不可见的风险变成可讨论的对象”。</strong></p></blockquote><p>你现在做的事情，本质是在：</p><ul><li>把“老工程师的直觉”</li><li>转换成“AI 和新同事都必须遵守的制度”</li></ul><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1>`,85)])])}const k=a(l,[["render",c]]),r=JSON.parse('{"path":"/posts/sdd/2025-11-20-ai-sdd-12-checklist.html","title":"AI SDD 开发规范-12-改代码前风险扫描 Checklist（Pre-Change Risk Scan）","lang":"zh-CN","frontmatter":{"title":"AI SDD 开发规范-12-改代码前风险扫描 Checklist（Pre-Change Risk Scan）","date":"2025-11-20T00:00:00.000Z","categories":["AI"],"tags":["ai","sdd","sh"],"published":true,"description":"改代码前风险扫描 Checklist 下面给你一套可直接落地、为 AI 编程设计的《改代码前风险扫描 Checklist》。 它的定位非常明确： 在 AI 真正“动手改代码”之前，用一套强制自检问题，把隐性风险、历史包袱和不可逆后果尽量前移暴露出来。 这不是给人看的流程表，而是可以直接嵌入 Prompt / CLI / AI Agent 执行前置阶段的...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"AI SDD 开发规范-12-改代码前风险扫描 Checklist（Pre-Change Risk Scan）\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-11-20T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-27T07:02:53.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"],["meta",{"property":"og:url","content":"https://houbb.github.io/awesome-ai-coding/posts/sdd/2025-11-20-ai-sdd-12-checklist.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"AI SDD 开发规范-12-改代码前风险扫描 Checklist（Pre-Change Risk Scan）"}],["meta",{"property":"og:description","content":"改代码前风险扫描 Checklist 下面给你一套可直接落地、为 AI 编程设计的《改代码前风险扫描 Checklist》。 它的定位非常明确： 在 AI 真正“动手改代码”之前，用一套强制自检问题，把隐性风险、历史包袱和不可逆后果尽量前移暴露出来。 这不是给人看的流程表，而是可以直接嵌入 Prompt / CLI / AI Agent 执行前置阶段的..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-27T07:02:53.000Z"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:tag","content":"sdd"}],["meta",{"property":"article:tag","content":"ai"}],["meta",{"property":"article:published_time","content":"2025-11-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-27T07:02:53.000Z"}]]},"git":{"createdTime":1766818973000,"updatedTime":1766818973000,"contributors":[{"name":"bbhou","username":"bbhou","email":"1557740299@qq.com","commits":1,"url":"https://github.com/bbhou"}]},"readingTime":{"minutes":3.93,"words":1180},"filePathRelative":"posts/sdd/2025-11-20-ai-sdd-12-checklist.md","excerpt":"\\n<p>下面给你一套<strong>可直接落地、为 AI 编程设计的《改代码前风险扫描 Checklist》</strong>。<br>\\n它的定位非常明确：</p>\\n<blockquote>\\n<p><strong>在 AI 真正“动手改代码”之前，用一套强制自检问题，把隐性风险、历史包袱和不可逆后果尽量前移暴露出来。</strong></p>\\n</blockquote>\\n<p>这不是给人看的流程表，而是<strong>可以直接嵌入 Prompt / CLI / AI Agent 执行前置阶段的“硬门禁”</strong>。</p>\\n<hr>\\n<h1>AI 改代码前风险扫描 Checklist（Pre-Change Risk Scan）</h1>","autoDesc":true}');export{k as comp,r as data};
